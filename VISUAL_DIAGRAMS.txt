# ğŸ¨ VISUAL GUIDE - Print PDF Implementation

## ğŸ“‹ ARCHITECTURE DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER INTERFACE                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Status Page (/marriage/status)                           â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Table:  Marriage List                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚ No  â”‚ Pengantin    â”‚ Tgl Nikah â”‚ Status â”‚ Tgl Ajnâ”‚Aksiâ”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â”‚ 1   â”‚ Budi â™¥ Siti  â”‚ 25 Des 25 â”‚ Aktif  â”‚ 15 Des  â”‚[ğŸ–¨] â”‚
â”‚  â”‚  â”‚ 2   â”‚ Ahmad â™¥ Nur  â”‚ 30 Jan 26 â”‚ Aktif  â”‚ 10 Des  â”‚[ğŸ–¨] â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜ â”‚
â”‚  â”‚                                                              â”‚
â”‚  â”‚  [ğŸ–¨] = Print Button (opens PDF)                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ User clicks Print
                            â”‚ GET /marriage/print/{id}
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LARAVEL CONTROLLER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MarriageController::printPdf($id)                        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  1. Find marriage by ID                                   â”‚  â”‚
â”‚  â”‚  2. Check: created_by === auth()->id() âœ“                 â”‚  â”‚
â”‚  â”‚  3. Load data into view                                   â”‚  â”‚
â”‚  â”‚  4. Pass to Pdf::loadView()                              â”‚  â”‚
â”‚  â”‚  5. Stream PDF to browser                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Pdf::loadView()
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PDF TEMPLATE                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  print-pdf.blade.php                                      â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  âœ¦ Header (Logo, Judul, Ornamen)                        â”‚  â”‚
â”‚  â”‚  âœ¦ Couple Names (Pengantin Pria â™¥ Wanita)              â”‚  â”‚
â”‚  â”‚  âœ¦ Data Sections (NIK, TTL, Alamat)                    â”‚  â”‚
â”‚  â”‚  âœ¦ Marriage Details (Tanggal, Tempat, Saksi)           â”‚  â”‚
â”‚  â”‚  âœ¦ Signature Areas (5 locations)                        â”‚  â”‚
â”‚  â”‚  âœ¦ Footer (Registration Info, Timestamp)                â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  + Beautiful CSS Styling                                 â”‚  â”‚
â”‚  â”‚  + Print-optimized Layout                                â”‚  â”‚
â”‚  â”‚  + Responsive Design                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ DomPDF renders
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PDF OUTPUT                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Buku Nikah PDF (A4 Portrait)                            â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚  KEMENTERIAN DALAM NEGERI           â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚         BUKU NIKAH                  â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚  Budi Santoso â™¥ Siti Nurhaliza     â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚  [All marriage data...]             â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚  âœ’ Signature Areas                 â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚  #000001 | 15 Des 2025 | AKTIF    â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Filename: Buku_Nikah_1_20251215_143045.pdf              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Stream to Browser
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BROWSER / USER                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PDF Opens in New Tab                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚  PDF Viewer                         â”‚ [+] [-] [âŠ] [Ã—] â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚  â”‚
â”‚  â”‚  â”‚  Beautiful Buku Nikah               â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚  [Professional Template]            â”‚ Page 1 of 1     â”‚  â”‚
â”‚  â”‚  â”‚  [All Data Visible]                 â”‚ Zoom: 100%      â”‚  â”‚
â”‚  â”‚  â”‚  [Signature Areas]                  â”‚ [Print] [DL]    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  User Options:                                            â”‚  â”‚
â”‚  â”‚  â€¢ [ğŸ–¨] Print to Physical Printer                       â”‚  â”‚
â”‚  â”‚  â€¢ [â¬‡] Download as PDF                                 â”‚  â”‚
â”‚  â”‚  â€¢ [ğŸ“§] Share via Email                                 â”‚  â”‚
â”‚  â”‚  â€¢ [ğŸ‘] View Online                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ DATA FLOW DIAGRAM

```
REQUEST:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /marriage/print/5                                   â”‚
â”‚ (User clicks Print button)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
ROUTE HANDLING:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Route: /marriage/print/{id}                             â”‚
â”‚ Middleware: auth                                        â”‚
â”‚ Controller: MarriageController@printPdf                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
CONTROLLER LOGIC:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Marriage::find($id)                                  â”‚
â”‚    â””â”€ Find record in database                          â”‚
â”‚                                                         â”‚
â”‚ 2. Authorization Check                                  â”‚
â”‚    â””â”€ if (marriage.created_by !== auth.id)            â”‚
â”‚       â””â”€ return 403 Forbidden                          â”‚
â”‚                                                         â”‚
â”‚ 3. Prepare Data                                         â”‚
â”‚    â””â”€ $marriage = [                                    â”‚
â”‚         'id', 'groom_name', 'bride_name',             â”‚
â”‚         'groom_nik', 'bride_nik',                      â”‚
â”‚         'marriage_date', 'marriage_place',             â”‚
â”‚         'witness1_name', 'witness2_name',              â”‚
â”‚         'status', 'created_at', ...                    â”‚
â”‚       ]                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PDF GENERATION:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $pdf = Pdf::loadView('marriage.print-pdf', $data)      â”‚
â”‚                                                         â”‚
â”‚ â”œâ”€ Blade template rendering                            â”‚
â”‚ â”‚  â””â”€ {{ $marriage->groom_name }}                      â”‚
â”‚ â”‚  â””â”€ {{ $marriage->bride_name }}                      â”‚
â”‚ â”‚  â””â”€ All data fields replaced                         â”‚
â”‚ â”‚                                                       â”‚
â”‚ â”œâ”€ CSS styling applied                                 â”‚
â”‚ â”‚  â””â”€ Colors, fonts, layout                            â”‚
â”‚ â”‚  â””â”€ Print-friendly optimizations                     â”‚
â”‚ â”‚                                                       â”‚
â”‚ â”œâ”€ Format settings                                     â”‚
â”‚ â”‚  â””â”€ Paper: A4                                        â”‚
â”‚ â”‚  â””â”€ Orientation: Portrait                            â”‚
â”‚ â”‚                                                       â”‚
â”‚ â””â”€ Generate PDF binary                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
RESPONSE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $pdf->stream('Buku_Nikah_{id}_{timestamp}.pdf')        â”‚
â”‚                                                         â”‚
â”‚ Headers:                                                â”‚
â”‚ â”œâ”€ Content-Type: application/pdf                       â”‚
â”‚ â”œâ”€ Content-Disposition: inline                         â”‚
â”‚ â”œâ”€ Content-Length: [file size]                         â”‚
â”‚ â””â”€ Cache-Control: no-cache                             â”‚
â”‚                                                         â”‚
â”‚ Body: [Binary PDF data]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
BROWSER HANDLING:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Detect content-type: application/pdf                  â”‚
â”‚ â€¢ Open PDF viewer plugin/extension                      â”‚
â”‚ â€¢ Render PDF in new tab                                â”‚
â”‚ â€¢ Show print/download buttons                          â”‚
â”‚ â€¢ User can save/print                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š TEMPLATE STRUCTURE

```
print-pdf.blade.php
â”‚
â”œâ”€â”€ <!DOCTYPE html>
â”œâ”€â”€ <head>
â”‚   â””â”€â”€ <style>
â”‚       â”œâ”€â”€ * { margin, padding, box-sizing }
â”‚       â”œâ”€â”€ body { font-family, line-height }
â”‚       â”œâ”€â”€ @page { size, margin }
â”‚       â”œâ”€â”€ .container { width, height, padding }
â”‚       â”œâ”€â”€ .header { border-bottom, text-align }
â”‚       â”œâ”€â”€ .couple-names { background, border }
â”‚       â”œâ”€â”€ .section { margin-bottom }
â”‚       â”œâ”€â”€ .row, .col { display: table }
â”‚       â”œâ”€â”€ .witnesses { signature areas }
â”‚       â”œâ”€â”€ .footer { border-top }
â”‚       â””â”€â”€ .registration-info { background }
â”‚
â””â”€â”€ <body>
    â””â”€â”€ <div class="container">
        â”œâ”€â”€ <div class="header">
        â”‚   â”œâ”€â”€ "KEMENTERIAN DALAM NEGERI"
        â”‚   â”œâ”€â”€ "BUKU NIKAH"
        â”‚   â””â”€â”€ "âœ¦ â¤ âœ¦"
        â”‚
        â”œâ”€â”€ <div class="couple-names">
        â”‚   â”œâ”€â”€ Calon Pengantin Pria
        â”‚   â”œâ”€â”€ â¤
        â”‚   â”œâ”€â”€ Calon Pengantin Wanita
        â”‚   â””â”€â”€ Tanggal Pernikahan
        â”‚
        â”œâ”€â”€ <div class="section">
        â”‚   â”œâ”€â”€ DATA CALON PENGANTIN PRIA
        â”‚   â””â”€â”€ [Table with NIK, TTL, Alamat]
        â”‚
        â”œâ”€â”€ <div class="divider-ornament">âœ¦ â¤ âœ¦</div>
        â”‚
        â”œâ”€â”€ <div class="section">
        â”‚   â”œâ”€â”€ DATA CALON PENGANTIN WANITA
        â”‚   â””â”€â”€ [Table with NIK, TTL, Alamat]
        â”‚
        â”œâ”€â”€ <div class="section wedding-details">
        â”‚   â”œâ”€â”€ DETAIL PERNIKAHAN
        â”‚   â””â”€â”€ [Tanggal, Tempat, Saksi 1&2, Status]
        â”‚
        â”œâ”€â”€ <div class="section">
        â”‚   â”œâ”€â”€ TANDA TANGAN SAKSI & PETUGAS
        â”‚   â””â”€â”€ [5 Signature Areas with lines]
        â”‚
        â”œâ”€â”€ <div class="registration-info">
        â”‚   â”œâ”€â”€ Nomor Pengajuan
        â”‚   â”œâ”€â”€ Tanggal Pengajuan
        â”‚   â””â”€â”€ Status
        â”‚
        â””â”€â”€ <div class="footer">
            â”œâ”€â”€ Dokumen bukti pengajuan
            â””â”€â”€ Timestamp cetak
```

---

## ğŸ” AUTHORIZATION FLOW

```
REQUEST
  â†“
GET /marriage/print/5
  â†“
Auth Middleware
  â”œâ”€ Is user logged in? 
  â”‚  â””â”€ NO â†’ Redirect to login
  â”‚
  â””â”€ YES â†’ Continue
       â†“
Controller::printPdf($id)
  â”‚
  â”œâ”€ Find Marriage by ID
  â”‚  â””â”€ Database query
  â”‚
  â”œâ”€ Check Authorization
  â”‚  â”œâ”€ marriage->created_by === auth()->id()
  â”‚  â”‚
  â”‚  â”œâ”€ YES âœ“ â†’ Generate PDF
  â”‚  â”‚         â””â”€ Return PDF to user
  â”‚  â”‚
  â”‚  â””â”€ NO âœ— â†’ Return 403 Forbidden
  â”‚           â””â”€ "Anda tidak memiliki akses"
  â”‚
  â””â”€ PDF Generated
     â”œâ”€ Stream to browser
     â””â”€ User can print/download
```

---

## ğŸ¨ DESIGN ELEMENTS

```
COLOR PALETTE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Primary:   #8B0000 â–ˆâ–ˆâ–ˆ (Maroon)    â”‚
â”‚ White:     #FFFFFF â–ˆâ–ˆâ–ˆ (Paper)     â”‚
â”‚ Gray:      #F9F9F9 â–ˆâ–ˆâ–ˆ (Bg)       â”‚
â”‚ Text:      #333333 â–ˆâ–ˆâ–ˆ (Dark)     â”‚
â”‚ Borders:   #DDDDDD â–ˆâ–ˆâ–ˆ (Light)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TYPOGRAPHY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Font: Times New Roman (serif)       â”‚
â”‚ Headers: 28px, bold, maroon         â”‚
â”‚ Titles: 13px, bold, uppercase       â”‚
â”‚ Labels: 10px, bold, uppercase       â”‚
â”‚ Body: 11px, dark gray               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SPACING:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Page margins: 20mm all sides        â”‚
â”‚ Section margin: 12mm bottom         â”‚
â”‚ Padding: 6-12mm per section        â”‚
â”‚ Line height: 1.6x                   â”‚
â”‚ Letter spacing: 0.5-2px            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ORNAMENTS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¦ â¤ âœ¦  (Header divider)           â”‚
â”‚ â”€â”€â”€â”€â”€  (Border lines)               â”‚
â”‚ â•Œâ•Œâ•Œâ•Œâ•Œ  (Dashed lines for sig)     â”‚
â”‚ â¤      (Heart symbol)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ FILE MODIFICATION SUMMARY

```
BEFORE                          AFTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MarriageController.php
â”œâ”€ searchNik()          â”œâ”€ searchNik()
â”œâ”€ submitRequest()      â”œâ”€ submitRequest()
â””â”€ status()             â”œâ”€ status()
                        â””â”€ printPdf() â† NEW
                           â””â”€ Authorization
                           â””â”€ PDF generation
                           â””â”€ Stream response

routes/web.php
â”œâ”€ /marriage/request    â”œâ”€ /marriage/request
â”œâ”€ /marriage/search-nik â”œâ”€ /marriage/search-nik
â””â”€ /marriage/status     â”œâ”€ /marriage/status
                        â””â”€ /marriage/print/{id} â† NEW
                           â””â”€ GET method
                           â””â”€ Auth required
                           â””â”€ Points to printPdf()

status.blade.php
â”œâ”€ Table header         â”œâ”€ Table header
â”‚  â”œâ”€ No              â”‚  â”œâ”€ No
â”‚  â”œâ”€ Pengantin       â”‚  â”œâ”€ Pengantin
â”‚  â”œâ”€ Tgl Nikah       â”‚  â”œâ”€ Tgl Nikah
â”‚  â”œâ”€ Status          â”‚  â”œâ”€ Status
â”‚  â””â”€ Tgl Pengajuan   â”‚  â”œâ”€ Tgl Pengajuan
â”‚                     â”‚  â””â”€ Aksi â† NEW
â”œâ”€ Table body         â”‚              â””â”€ Print button
â””â”€ Loop marriages     â”‚
                      â””â”€ Print button in new column
                         â””â”€ Opens /marriage/print/{id}
                         â””â”€ target="_blank"
```

---

## ğŸ”„ STATE MACHINE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Marriage Application Lifecycle         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SUBMITTED  â”‚
    â”‚ (active)   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ [USER] View Status â†’ [Click Print] â†’ PDF âœ“
         â”‚
         â”œâ”€â†’ [ADMIN] Review â†’ Approve/Reject
         â”‚
         â”œâ”€â†’ Status: INACTIVE (paused)
         â”‚
         â”œâ”€â†’ Status: CANCELLED (rejected)
         â”‚
         â””â”€â†’ Status: COMPLETED (approved)

At any point where status exists,
user can [Click Print] to generate PDF âœ“
```

---

**Visual Guide Complete!**  
*For detailed implementation, see IMPLEMENTATION_SUMMARY.md*
